/**
 * AlertifyJS
 * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.
 *
 * @author Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com)
 * @copyright 2014
 * @license MIT <http://opensource.org/licenses/mit-license.php>
 * @link http://alertifyjs.com
 * @module AlertifyJS
 * @version 0.7.0
 */
(function(n){"use strict";function i(n,t){n.className+=" "+t}function e(n,t){for(var r=t.split(" "),i=0;i<r.length;i+=1)n.className=n.className.replace(" "+r[i],"")}function w(){return n.getComputedStyle(document.body).direction==="rtl"}function l(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function a(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function o(n,t){return function(){var i,r;if(arguments.length>0){for(i=[],r=0;r<arguments.length;r+=1)i.push(arguments[r]);return i.push(n),t.apply(n,i)}return t.apply(n,[null,n])}}function v(n,t){return{index:n,button:t,cancel:!1}}function b(){function t(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function i(t){var i=n[t].dialog;return i&&typeof i.__init=="function"&&i.__init(i),i}function r(i,r,u,f){var e={dialog:null,factory:r};return f!==undefined&&(e.factory=function(){return t(new n[f].factory,new r)}),u||(e.dialog=t(new e.factory,y)),n[i]=e}var n={};return{defaults:p,dialog:function(n,u,f,e){if(typeof u!="function")return i(n);if(this.hasOwnProperty(n))throw new Error("alertify.dialog: name already exists");var o=r(n,u,f,e);this[n]=f?function(){if(arguments.length===0)return o.dialog;var n=t(new o.factory,y);return n&&typeof n.__init=="function"&&n.__init(n),n.main.apply(n,arguments),n.show.apply(n)}:function(){if(o.dialog&&typeof o.dialog.__init=="function"&&o.dialog.__init(o.dialog),arguments.length===0)return o.dialog;var n=o.dialog;return n.main.apply(o.dialog,arguments),n.show.apply(o.dialog)}},closeAll:function(n){for(var i,r=u.slice(0),t=0;t<r.length;t+=1)i=r[t],(n===undefined||n!==i)&&i.close()},setting:function(n,t,r){if(n==="notifier")return s.setting(t,r);var u=i(n);if(u)return u.setting(t,r)},set:function(n,t,i){return this.setting(n,t,i)},get:function(n,t){return this.setting(n,t)},notify:function(n,t,i,r){return s.create(t,r).push(n,i)},message:function(n,t,i){return s.create(null,i).push(n,t)},success:function(n,t,i){return s.create("success",i).push(n,t)},error:function(n,t,i){return s.create("error",i).push(n,t)},warning:function(n,t,i){return s.create("warning",i).push(n,t)},dismissAll:function(){s.dismissAll()}}}var c={ENTER:13,ESC:27,F1:112,F12:123},p={modal:!0,movable:!0,resizable:!0,closable:!0,maximizable:!0,pinnable:!0,pinned:!0,padding:!0,overflow:!0,maintainFocus:!0,transition:"pulse",notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},u=[],r=function(){return document.addEventListener?function(n,t,i,r){n.addEventListener(t,i,r===!0)}:document.attachEvent?function(n,t,i){n.attachEvent("on"+t,i)}:void 0}(),f=function(){return document.removeEventListener?function(n,t,i,r){n.removeEventListener(t,i,r===!0)}:document.detachEvent?function(n,t,i){n.detachEvent("on"+t,i)}:void 0}(),h=function(){var n,t,i=!1,r={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(n in r)if(document.documentElement.style[n]!==undefined){t=r[n];i=!0;break}return{type:t,supported:i}}(),y=function(){function ti(n){var u,e,r,c,f,h;if(!n.__internal){for(delete n.__init,null===tt&&document.body.setAttribute("tabindex","0"),typeof n.setup=="function"?(u=n.setup(),u.options=u.options||{},u.focus=u.focus||{}):u={buttons:[],focus:{element:null,select:!1},options:{}},e=n.__internal={isOpen:!1,activeElement:document.body,timerIn:undefined,timerOut:undefined,buttons:u.buttons,focus:u.focus,options:{title:undefined,modal:undefined,pinned:undefined,movable:undefined,resizable:undefined,closable:undefined,maximizable:undefined,pinnable:undefined,transition:undefined,padding:undefined,overflow:undefined,onshow:undefined,onclose:undefined,onfocus:undefined},resetHandler:undefined,beginMoveHandler:undefined,beginResizeHandler:undefined,bringToFrontHandler:undefined,modalClickHandler:undefined,buttonsClickHandler:undefined,commandsClickHandler:undefined,transitionInHandler:undefined,transitionOutHandler:undefined},r={},r.root=document.createElement("div"),r.root.className=s.base+" "+s.hidden+" ",r.root.innerHTML=y.dimmer+y.modal,r.dimmer=r.root.firstChild,r.modal=r.root.lastChild,r.modal.innerHTML=y.dialog,r.dialog=r.modal.firstChild,r.dialog.innerHTML=y.reset+y.commands+y.header+y.body+y.footer+y.reset,r.reset=[],r.reset.push(r.dialog.firstChild),r.reset.push(r.dialog.lastChild),r.commands={},r.commands.container=r.reset[0].nextSibling,r.commands.pin=r.commands.container.firstChild,r.commands.maximize=r.commands.pin.nextSibling,r.commands.close=r.commands.maximize.nextSibling,r.header=r.commands.container.nextSibling,r.body=r.header.nextSibling,r.body.innerHTML=y.content,r.content=r.body.firstChild,r.footer=r.body.nextSibling,r.footer.innerHTML=y.buttons.auxiliary+y.buttons.primary+y.resizeHandle,r.resizeHandle=r.footer.lastChild,r.buttons={},r.buttons.auxiliary=r.footer.firstChild,r.buttons.primary=r.buttons.auxiliary.nextSibling,r.buttons.primary.innerHTML=y.button,r.buttonTemplate=r.buttons.primary.firstChild,r.buttons.primary.removeChild(r.buttonTemplate),c=0;c<n.__internal.buttons.length;c+=1){f=n.__internal.buttons[c];nt.indexOf(f.key)<0&&nt.push(f.key);f.element=r.buttonTemplate.cloneNode();f.element.innerHTML=f.text;typeof f.className=="string"&&f.className!==""&&i(f.element,f.className);for(h in f.attrs)h!=="className"&&f.attrs.hasOwnProperty(h)&&f.element.setAttribute(h,f.attrs[h]);f.scope==="auxiliary"?r.buttons.auxiliary.appendChild(f.element):r.buttons.primary.appendChild(f.element)}n.elements=r;e.resetHandler=o(n,at);e.beginMoveHandler=o(n,lr);e.beginResizeHandler=o(n,yr);e.bringToFrontHandler=o(n,nr);e.modalClickHandler=o(n,or);e.buttonsClickHandler=o(n,sr);e.commandsClickHandler=o(n,ir);e.transitionInHandler=o(n,hr);e.transitionOutHandler=o(n,cr);n.setting("title",u.options.title===undefined?t.defaults.glossary.title:u.options.title);n.setting("modal",u.options.modal===undefined?t.defaults.modal:u.options.modal);n.setting("movable",u.options.movable===undefined?t.defaults.movable:u.options.movable);n.setting("resizable",u.options.resizable===undefined?t.defaults.resizable:u.options.resizable);n.setting("closable",u.options.closable===undefined?t.defaults.closable:u.options.closable);n.setting("maximizable",u.options.maximizable===undefined?t.defaults.maximizable:u.options.maximizable);n.setting("pinnable",u.options.pinnable===undefined?t.defaults.pinnable:u.options.pinnable);n.setting("pinned",u.options.pinned===undefined?t.defaults.pinned:u.options.pinned);n.setting("transition",u.options.transition===undefined?t.defaults.transition:u.options.transition);n.setting("padding",u.options.padding===undefined?t.defaults.padding:u.options.padding);n.setting("overflow",u.options.overflow===undefined?t.defaults.overflow:u.options.overflow);typeof n.build=="function"&&n.build()}document.body.appendChild(n.elements.root)}function b(){for(var r,n=0,t=0;t<u.length;t+=1)r=u[t],(r.isModal()||r.isMaximized())&&(n+=1);n===0?e(document.body,s.noOverflow):n>0&&document.body.className.indexOf(s.noOverflow)<0&&i(document.body,s.noOverflow)}function ii(n,t,r){typeof r=="string"&&e(n.elements.root,s.prefix+r);i(n.elements.root,s.prefix+t);tt=n.elements.root.offsetWidth}function gi(n){n.setting("modal")?(e(n.elements.root,s.modeless),n.isOpen()&&(yi(n),ht(n),b())):(i(n.elements.root,s.modeless),n.isOpen()&&(vi(n),ht(n),b()))}function nr(n,t){for(var r=u.indexOf(t),i=r+1;i<u.length;i+=1)if(u[i].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),u.splice(u.indexOf(t),1),u.push(t),lt(t)),!1}function tr(n,t,r,u){switch(t){case"title":n.setHeader(u);break;case"modal":gi(n);break;case"pinned":ur(n);break;case"closable":er(n);break;case"maximizable":fr(n);break;case"pinnable":rr(n);break;case"movable":ar(n);break;case"resizable":pr(n);break;case"transition":ii(n,u,r);break;case"padding":u?e(n.elements.root,s.noPadding):n.elements.root.className.indexOf(s.noPadding)<0&&i(n.elements.root,s.noPadding);break;case"overflow":u?e(n.elements.root,s.noOverflow):n.elements.root.className.indexOf(s.noOverflow)<0&&i(n.elements.root,s.noOverflow);break;case"transition":ii(n,u,r)}}function ot(n,t,i,r,u){var e={op:undefined,items:[]},s,o,f;if(typeof u=="undefined"&&typeof r=="string")e.op="get",t.hasOwnProperty(r)?(e.found=!0,e.value=t[r]):(e.found=!1,e.value=undefined);else if(e.op="set",typeof r=="object"){o=r;for(f in o)t.hasOwnProperty(f)?(t[f]!==o[f]&&(s=t[f],t[f]=o[f],i.call(n,f,s,o[f])),e.items.push({key:f,value:o[f],found:!0})):e.items.push({key:f,value:o[f],found:!1})}else if(typeof r=="string")t.hasOwnProperty(r)?(t[r]!==u&&(s=t[r],t[r]=u,i.call(n,r,s,u)),e.items.push({key:r,value:u,found:!0})):e.items.push({key:r,value:u,found:!1});else throw new Error("args must be a string or object");return e}function ri(n){var t;it(n,function(n){return t=n.invokeOnClose===!0});!t&&n.isOpen()&&n.close()}function ir(n,t){var i=n.srcElement||n.target;switch(i){case t.elements.commands.pin:t.isPinned()?fi(t):ui(t);break;case t.elements.commands.maximize:t.isMaximized()?st(t):ei(t);break;case t.elements.commands.close:ri(t)}return!1}function ui(n){n.setting("pinned",!0)}function fi(n){n.setting("pinned",!1)}function ei(n){i(n.elements.root,s.maximized);n.isOpen()&&b()}function st(n){e(n.elements.root,s.maximized);n.isOpen()&&b()}function rr(n){n.setting("pinnable")?i(n.elements.root,s.pinnable):e(n.elements.root,s.pinnable)}function oi(n){var t=a();n.elements.modal.style.marginTop=l()+"px";n.elements.modal.style.marginLeft=t+"px";n.elements.modal.style.marginRight=-t+"px"}function si(n){var r=parseInt(n.elements.modal.style.marginTop,10),u=parseInt(n.elements.modal.style.marginLeft,10),t,i;n.elements.modal.style.marginTop="";n.elements.modal.style.marginLeft="";n.elements.modal.style.marginRight="";n.isOpen()&&(t=0,i=0,n.elements.dialog.style.top!==""&&(t=parseInt(n.elements.dialog.style.top,10)),n.elements.dialog.style.top=t+(r-l())+"px",n.elements.dialog.style.left!==""&&(i=parseInt(n.elements.dialog.style.left,10)),n.elements.dialog.style.left=i+(u-a())+"px")}function ht(n){n.setting("modal")||n.setting("pinned")?si(n):oi(n)}function ur(n){n.setting("pinned")?(e(n.elements.root,s.unpinned),n.isOpen()&&si(n)):(i(n.elements.root,s.unpinned),n.isOpen()&&!n.isModal()&&oi(n))}function fr(n){n.setting("maximizable")?i(n.elements.root,s.maximizable):e(n.elements.root,s.maximizable)}function er(n){n.setting("closable")?(i(n.elements.root,s.closable),kr(n)):(e(n.elements.root,s.closable),dr(n))}function or(n,t){var i=n.srcElement||n.target;return ct||i!==t.elements.modal||ri(t),ct=!1,!1}function it(n,t){for(var r,u,i=0;i<n.__internal.buttons.length;i+=1)if(r=n.__internal.buttons[i],!r.element.disabled&&t(r)){u=v(i,r);typeof n.callback=="function"&&n.callback.apply(n,[u]);u.cancel===!1&&n.close();break}}function sr(n,t){var i=n.srcElement||n.target;it(t,function(n){return n.element===i&&(g=!0)})}function hi(n){if(g){g=!1;return}var i=u[u.length-1],t=n.keyCode;if(nt.indexOf(t)>-1)return it(i,function(n){return n.key===t}),!1}function ci(n){var i=u[u.length-1],t=n.keyCode;if(t<c.F12+1&&t>c.F1-1&&nt.indexOf(t)>-1)return n.preventDefault(),n.stopPropagation(),it(i,function(n){return n.key===t}),!1}function lt(n,t){if(t)t.focus();else{var r=n.__internal.focus,i=r.element;typeof r.element=="number"&&(i=n.__internal.buttons[r.element].element);i&&i.focus&&(i.focus(),r.select&&i.select&&i.select())}}function at(n,t){var r,i,f,e;if(!t)for(r=u.length-1;r>-1;r-=1)if(u[r].isModal()){t=u[r];break}t&&t.isModal()&&(f=n.srcElement||n.target,e=f===t.elements.reset[1],e&&(t.setting("maximizable")?i=t.elements.commands.maximize:t.setting("closable")&&(i=t.elements.commands.close)),i===undefined&&(typeof t.__internal.focus.element=="number"?f===t.elements.reset[0]?i=t.elements.buttons.auxiliary.firstChild||t.elements.buttons.primary.firstChild:e&&(i=t.elements.reset[0]):f===t.elements.reset[0]&&(i=t.elements.buttons.primary.lastChild||t.elements.buttons.auxiliary.lastChild)),lt(t,i))}function hr(n,t){clearTimeout(t.__internal.timerIn);lt(t);g=!1;typeof t.setting("onfocus")=="function"&&t.setting("onfocus")();f(t.elements.dialog,h.type,t.__internal.transitionInHandler);e(t.elements.root,s.animationIn)}function cr(n,i){clearTimeout(i.__internal.timerOut);f(i.elements.dialog,h.type,i.__internal.transitionOutHandler);rt(i);et(i);i.isMaximized()&&st(i);t.defaults.maintainFocus&&i.__internal.activeElement&&(i.__internal.activeElement.focus(),i.__internal.activeElement=null)}function li(n,t){t.style.left=n[pt]-vt+"px";t.style.top=n[wt]-yt+"px"}function lr(n,t){var r,u;if(p===null&&!t.isMaximized()&&t.setting("movable")&&(n.type==="touchstart"?(n.preventDefault(),r=n.targetTouches[0],pt="clientX",wt="clientY"):n.button===0&&(r=n),r))return k=t,vt=r[pt],yt=r[wt],u=t.elements.dialog,u.style.left&&(vt-=parseInt(u.style.left,10)),u.style.top&&(yt-=parseInt(u.style.top,10)),li(r,u),i(document.body,s.noSelection),!1}function bt(n){if(k){var t;n.type==="touchmove"?(n.preventDefault(),t=n.targetTouches[0]):n.button===0&&(t=n);t&&li(t,k.elements.dialog)}}function kt(){k&&(k=null,e(document.body,s.noSelection))}function rt(n){k=null;var t=n.elements.dialog;t.style.left=t.style.top=""}function ar(n){n.setting("movable")?(i(n.elements.root,s.movable),n.isOpen()&&pi(n)):(rt(n),e(n.elements.root,s.movable),n.isOpen()&&wi(n))}function vr(n,t,i){var u=t,f=0,h=0,r,o,s,e;do f+=u.offsetLeft,h+=u.offsetTop;while(u=u.offsetParent);i===!0?(r=n.pageX,o=n.pageY):(r=n.clientX,o=n.clientY);s=w();s&&(r=document.body.offsetWidth-r,isNaN(d)||(f=document.body.offsetWidth-f-t.offsetWidth));t.style.height=o-h+ft+"px";t.style.width=r-f+ft+"px";isNaN(d)||(e=Math.abs(t.offsetWidth-ut)*.5,s&&(e*=-1),t.offsetWidth>ut?t.style.left=d+e+"px":t.offsetWidth>=dt&&(t.style.left=d-e+"px"))}function yr(n,t){var u,r;if(!t.isMaximized()&&(n.type==="touchstart"?(n.preventDefault(),u=n.targetTouches[0]):n.button===0&&(u=n),u))return p=t,ft=t.elements.resizeHandle.offsetHeight/2,r=t.elements.dialog,d=parseInt(r.style.left,10),r.style.height=r.offsetHeight+"px",r.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px",r.style.width=(ut=r.offsetWidth)+"px",r.style.maxWidth!=="none"&&(r.style.minWidth=(dt=r.offsetWidth)+"px"),r.style.maxWidth="none",i(document.body,s.noSelection),!1}function gt(n){if(p){var t;n.type==="touchmove"?(n.preventDefault(),t=n.targetTouches[0]):n.button===0&&(t=n);t&&vr(t,p.elements.dialog,!p.setting("modal")&&!p.setting("pinned"))}}function ni(){p&&(p=null,e(document.body,s.noSelection),ct=!0)}function et(n){p=null;var t=n.elements.dialog;t.style.maxWidth==="none"&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",d=Number.Nan,ut=dt=ft=0)}function pr(n){n.setting("resizable")?(i(n.elements.root,s.resizable),n.isOpen()&&bi(n)):(et(n),e(n.elements.root,s.resizable),n.isOpen()&&ki(n))}function ai(){for(var t,n=0;n<u.length;n+=1)t=u[n],rt(t),et(t)}function wr(t){u.length===1&&(r(n,"resize",ai),r(document.body,"keyup",hi),r(document.body,"keydown",ci),r(document.body,"focus",at),r(document.body,"mousemove",bt),r(document.body,"touchmove",bt),r(document.body,"mouseup",kt),r(document.body,"touchend",kt),r(document.body,"mousemove",gt),r(document.body,"touchmove",gt),r(document.body,"mouseup",ni),r(document.body,"touchend",ni));r(t.elements.commands.container,"click",t.__internal.commandsClickHandler);r(t.elements.footer,"click",t.__internal.buttonsClickHandler);r(t.elements.reset[0],"focus",t.__internal.resetHandler);r(t.elements.reset[1],"focus",t.__internal.resetHandler);g=!0;r(t.elements.dialog,h.type,t.__internal.transitionInHandler);t.setting("modal")||vi(t);t.setting("resizable")&&bi(t);t.setting("movable")&&pi(t)}function br(t){u.length===1&&(f(n,"resize",ai),f(document.body,"keyup",hi),f(document.body,"keydown",ci),f(document.body,"focus",at),f(document.body,"mousemove",bt),f(document.body,"mouseup",kt),f(document.body,"mousemove",gt),f(document.body,"mouseup",ni));f(t.elements.commands.container,"click",t.__internal.commandsClickHandler);f(t.elements.footer,"click",t.__internal.buttonsClickHandler);f(t.elements.reset[0],"focus",t.__internal.resetHandler);f(t.elements.reset[1],"focus",t.__internal.resetHandler);r(t.elements.dialog,h.type,t.__internal.transitionOutHandler);t.setting("modal")||yi(t);t.setting("movable")&&wi(t);t.setting("resizable")&&ki(t)}function vi(n){r(n.elements.dialog,"focus",n.__internal.bringToFrontHandler,!0)}function yi(n){f(n.elements.dialog,"focus",n.__internal.bringToFrontHandler,!0)}function pi(n){r(n.elements.header,"mousedown",n.__internal.beginMoveHandler);r(n.elements.header,"touchstart",n.__internal.beginMoveHandler)}function wi(n){f(n.elements.header,"mousedown",n.__internal.beginMoveHandler);f(n.elements.header,"touchstart",n.__internal.beginMoveHandler)}function bi(n){r(n.elements.resizeHandle,"mousedown",n.__internal.beginResizeHandler);r(n.elements.resizeHandle,"touchstart",n.__internal.beginResizeHandler)}function ki(n){f(n.elements.resizeHandle,"mousedown",n.__internal.beginResizeHandler);f(n.elements.resizeHandle,"touchstart",n.__internal.beginResizeHandler)}function kr(n){r(n.elements.modal,"click",n.__internal.modalClickHandler)}function dr(n){f(n.elements.modal,"click",n.__internal.modalClickHandler)}var nt=[],tt=null,di=n.navigator.userAgent.indexOf("Safari")>-1&&n.navigator.userAgent.indexOf("Chrome")<0,y={dimmer:'<div class="ajs-dimmer"><\/div>',modal:'<div class="ajs-modal" tabindex="0"><\/div>',dialog:'<div class="ajs-dialog" tabindex="0"><\/div>',reset:'<a class="ajs-reset" href="#"><\/a>',commands:'<div class="ajs-commands"><button class="ajs-pin"><\/button><button class="ajs-maximize"><\/button><button class="ajs-close"><\/button><\/div>',header:'<div class="ajs-header"><\/div>',body:'<div class="ajs-body"><\/div>',content:'<div class="ajs-content"><\/div>',footer:'<div class="ajs-footer"><\/div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"><\/div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"><\/div>'},button:'<button class="ajs-button"><\/button>',resizeHandle:'<div class="ajs-handle"><\/div>'},s={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake"},ct=!1,g=!1,k=null,vt=0,yt=0,pt="pageX",wt="pageY",p=null,d=Number.Nan,ut=0,dt=0,ft=0;return{__init:ti,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(s.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(s.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(s.unpinned)<0},maximize:function(){return this.isMaximized()||ei(this),this},restore:function(){return this.isMaximized()&&st(this),this},pin:function(){return this.isPinned()||ui(this),this},unpin:function(){return this.isPinned()&&fi(this),this},setting:function(n,t){var e=this,i=ot(this,this.__internal.options,function(n,t,i){tr(e,n,t,i)},n,t),f,r,u;if(i.op==="get")return i.found?i.value:typeof this.settings!="undefined"?ot(this,this.settings,this.settingUpdated||function(){},n,t).value:undefined;if(i.op==="set"){if(i.items.length>0)for(f=this.settingUpdated||function(){},r=0;r<i.items.length;r+=1)u=i.items[r],u.found||typeof this.settings=="undefined"||ot(this,this.settings,f,u.key,u.value);return this}},set:function(n,t){return this.setting(n,t),this},get:function(n){return this.setting(n)},setHeader:function(t){return typeof t=="string"?this.elements.header.innerHTML=t:t instanceof n.HTMLElement&&this.elements.header.firstChild!==t&&(this.elements.header.innerHTML="",this.elements.header.appendChild(t)),this},setContent:function(t){return typeof t=="string"?this.elements.content.innerHTML=t:t instanceof n.HTMLElement&&this.elements.content.firstChild!==t&&(this.elements.content.innerHTML="",this.elements.content.appendChild(t)),this},showModal:function(n){return this.show(!0,n)},show:function(n,r){var f,o;return ti(this),this.__internal.isOpen?(rt(this),et(this),i(this.elements.dialog,s.shake),o=this,setTimeout(function(){e(o.elements.dialog,s.shake)},200)):(this.__internal.isOpen=!0,u.push(this),t.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),typeof this.prepare=="function"&&this.prepare(),wr(this),n!==undefined&&this.setting("modal",n),b(),typeof r=="string"&&r!==""&&(this.__internal.className=r,i(this.elements.root,r)),ht(this),e(this.elements.root,s.animationOut),i(this.elements.root,s.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,h.supported?1e3:100),di&&(f=this.elements.root,f.style.display="none",setTimeout(function(){f.style.display="block"},0)),tt=this.elements.root.offsetWidth,e(this.elements.root,s.hidden),typeof this.setting("onshow")=="function"&&this.setting("onshow")()),this},close:function(){return this.__internal.isOpen&&(br(this),e(this.elements.root,s.animationIn),i(this.elements.root,s.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,h.supported?1e3:100),i(this.elements.root,s.hidden),tt=this.elements.modal.offsetWidth,typeof this.__internal.className!="undefined"&&this.__internal.className!==""&&e(this.elements.root,this.__internal.className),typeof this.setting("onclose")=="function"&&this.setting("onclose")(),u.splice(u.indexOf(this),1),this.__internal.isOpen=!1,b()),this},closeOthers:function(){return t.closeAll(this),this}}}(),s=function(){function l(i){i.__internal||(i.__internal={position:t.defaults.notifier.position,delay:t.defaults.notifier.delay},n=document.createElement("DIV"),a(i),document.body.appendChild(n))}function y(n){n.__internal.pushed=!0;c.push(n)}function p(n){c.splice(c.indexOf(n),1);n.__internal.pushed=!1}function a(t){n.className=u.base;switch(t.__internal.position){case"top-right":i(n,u.top+" "+u.right);break;case"top-left":i(n,u.top+" "+u.left);break;case"bottom-left":i(n,u.bottom+" "+u.left);break;default:case"bottom-right":i(n,u.bottom+" "+u.right)}}function w(t,c){function w(n,t){t.dismiss(!0)}function a(t,i){f(i.element,h.type,a);n.removeChild(i.element)}function b(n){return n.__internal||(n.__internal={pushed:!1,delay:undefined,timer:undefined,clickHandler:undefined,transitionEndHandler:undefined,transitionTimeout:undefined},n.__internal.clickHandler=o(n,w),n.__internal.transitionEndHandler=o(n,a)),n}function l(n){clearTimeout(n.__internal.timer);clearTimeout(n.__internal.transitionTimeout)}return b({element:t,push:function(t,f){if(!this.__internal.pushed){y(this);l(this);var o,e;switch(arguments.length){case 0:e=this.__internal.delay;break;case 1:typeof t=="number"?e=t:(o=t,e=this.__internal.delay);break;case 2:o=t;e=f}return typeof o!="undefined"&&this.setContent(o),s.__internal.position.indexOf("top")<0?n.appendChild(this.element):n.insertBefore(this.element,n.firstChild),v=this.element.offsetWidth,i(this.element,u.visible),r(this.element,"click",this.__internal.clickHandler),this.delay(e)}return this},ondismiss:function(){},callback:c,dismiss:function(t){return this.__internal.pushed&&(l(this),typeof this.ondismiss=="function"&&this.ondismiss.call(this)===!1||(f(this.element,"click",this.__internal.clickHandler),typeof this.element!="undefined"&&this.element.parentNode===n&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,h.supported?1e3:100),e(this.element,u.visible),typeof this.callback=="function"&&this.callback.call(this,t)),p(this))),this},delay:function(n){if(l(this),this.__internal.delay=typeof n!="undefined"&&!isNaN(+n)?+n:s.__internal.delay,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout(function(){t.dismiss()},this.__internal.delay*1e3)}return this},setContent:function(n){return typeof n=="string"?this.element.innerHTML=n:this.element.appendChild(n),this},dismissOthers:function(){return s.dismissAll(this),this}})}var v,n,c=[],u={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(n,t){if(l(this),typeof t=="undefined")return this.__internal[n];switch(n){case"position":this.__internal.position=t;a(this);break;case"delay":this.__internal.delay=t}return this},set:function(n,t){return this.setting(n,t),this},get:function(n){return this.setting(n)},create:function(n,t){l(this);var i=document.createElement("div");return i.className=u.message+(typeof n=="string"&&n!==""?" ajs-"+n:""),w(i,t)},dismissAll:function(n){for(var i,r=c.slice(0),t=0;t<r.length;t+=1)i=r[t],(n===undefined||n!==i)&&i.dismiss()}}}(),t=new b;t.dialog("alert",function(){return{main:function(n,t,i){var u,r,f;switch(arguments.length){case 1:r=n;break;case 2:typeof t=="function"?(r=n,f=t):(u=n,r=t);break;case 3:u=n;r=t;f=i}return this.setting("title",u),this.setting("message",r),this.setting("onok",f),this},setup:function(){return{buttons:[{text:t.defaults.glossary.ok,key:c.ESC,invokeOnClose:!0,className:t.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(n){this.setContent(n)},settings:{message:undefined,onok:undefined,label:undefined},settingUpdated:function(n,t,i){switch(n){case"message":this.setMessage(i);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i)}},callback:function(n){if(typeof this.settings.onok=="function"){var t=this.settings.onok.call(undefined,n);typeof t!="undefined"&&(n.cancel=!t)}}}});t.dialog("confirm",function(){function i(t){n.timer!==null&&(clearInterval(n.timer),n.timer=null,t.__internal.buttons[n.index].element.innerHTML=n.text)}function r(t,r,u){i(t);n.duration=u;n.index=r;n.text=t.__internal.buttons[r].element.innerHTML;n.timer=setInterval(o(t,n.task),1e3);n.task(null,t)}var n={timer:null,index:null,text:null,duratuin:null,task:function(t,r){if(r.isOpen()){if(r.__internal.buttons[n.index].element.innerHTML=n.text+" (&#8207;"+n.duration+"&#8207;) ",n.duration-=1,n.duration===-1){i(r);var f=r.__internal.buttons[n.index],u=v(n.index,f);typeof r.callback=="function"&&r.callback.apply(r,[u]);u.close!==!1&&r.close()}}else i(r)}};return{main:function(n,t,i,r){var o,u,f,e;switch(arguments.length){case 1:u=n;break;case 2:u=n;f=t;break;case 3:u=n;f=t;e=i;break;case 4:o=n;u=t;f=i;e=r}return this.setting("title",o),this.setting("message",u),this.setting("onok",f),this.setting("oncancel",e),this},setup:function(){return{buttons:[{text:t.defaults.glossary.ok,key:c.ENTER,className:t.defaults.theme.ok},{text:t.defaults.glossary.cancel,key:c.ESC,invokeOnClose:!0,className:t.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(n){this.setContent(n)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(n,t,i){switch(n){case"message":this.setMessage(i);break;case"labels":"ok"in i&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=i.ok,this.__internal.buttons[0].element.innerHTML=i.ok);"cancel"in i&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=i.cancel,this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":i===!0?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element=i==="ok"?0:1}},callback:function(n){i(this);var t;switch(n.index){case 0:typeof this.settings.onok=="function"&&(t=this.settings.onok.call(undefined,n),typeof t!="undefined"&&(n.cancel=!t));break;case 1:typeof this.settings.oncancel=="function"&&(t=this.settings.oncancel.call(undefined,n),typeof t!="undefined"&&(n.cancel=!t))}},autoOk:function(n){return r(this,0,n),this},autoCancel:function(n){return r(this,1,n),this}}});t.dialog("prompt",function(){var i=document.createElement("INPUT"),r=document.createElement("P");return{main:function(n,t,i,r,u){var h,f,e,o,s;switch(arguments.length){case 1:f=n;break;case 2:f=n;e=t;break;case 3:f=n;e=t;o=i;break;case 4:f=n;e=t;o=i;s=r;break;case 4:h=n;f=t;e=i;o=r;s=u}return this.setting("title",h),this.setting("message",f),this.setting("value",e),this.setting("onok",o),this.setting("oncancel",s),this},setup:function(){return{buttons:[{text:t.defaults.glossary.ok,key:c.ENTER,className:t.defaults.theme.ok},{text:t.defaults.glossary.cancel,key:c.ESC,invokeOnClose:!0,className:t.defaults.theme.cancel}],focus:{element:i,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){i.className=t.defaults.theme.input;i.setAttribute("type","text");i.value=this.settings.value;this.elements.content.appendChild(r);this.elements.content.appendChild(i)},prepare:function(){},setMessage:function(t){typeof t=="string"?r.innerHTML=t:t instanceof n.HTMLElement&&r.firstChild!==t&&(r.innerHTML="",r.appendChild(t))},settings:{message:undefined,labels:undefined,onok:undefined,oncancel:undefined,value:"",reverseButtons:undefined},settingUpdated:function(n,t,r){switch(n){case"message":this.setMessage(r);break;case"value":i.value=r;break;case"labels":r.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=r.ok);r.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=r.cancel);break;case"reverseButtons":r===!0?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element)}},callback:function(n){var t;switch(n.index){case 0:this.value=i.value;typeof this.settings.onok=="function"&&(t=this.settings.onok.call(undefined,n,this.value),typeof t!="undefined"&&(n.cancel=!t));break;case 1:typeof this.settings.oncancel=="function"&&(t=this.settings.oncancel.call(undefined,n),typeof t!="undefined"&&(n.cancel=!t))}}}});typeof define=="function"?define([],function(){return t}):n.alertify||(n.alertify=t)})(this);
/*
//# sourceMappingURL=alertify.min.js.map
*/